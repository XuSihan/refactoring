#!bash
git clone https://github.com/SecUpwN/Android-IMSI-Catcher-Detector.git
mv Android-IMSI-Catcher-Detector Android-IMSI-Catcher-Detector_before
cp -R Android-IMSI-Catcher-Detector_before Android-IMSI-Catcher-Detector_after
cd Android-IMSI-Catcher-Detector_before
git checkout ba1784dbaac40a8b2ee6ae32e8dbb025be1e57dc
cd ..
cd Android-IMSI-Catcher-Detector_after
git checkout e235f884f2e0bc258da77b9c80492ad33386fa86
cd ..
cd Android-IMSI-Catcher-Detector_before
file_path=$(find -print | grep "com/SecUpwN/AIMSICD/adapters/AIMSICDDbAdapter/DbHelper.java")
result=$(echo $file_path | grep "com/SecUpwN/AIMSICD/adapters/AIMSICDDbAdapter/DbHelper.java")
if [ "$result" != "" ]
then
    echo "True"
else
    echo "False"
    file_path=$(find -print | grep "AIMSICDDbAdapter.java")
fi
file_path=$(echo $file_path|cut -c 3-)
cd ..
java -cp gumtree-spoon-ast-diff-1.1.0-SNAPSHOT-jar-with-dependencies.jar gumtree.spoon.AstComparator 'Android-IMSI-Catcher-Detector_before/'$file_path 'Android-IMSI-Catcher-Detector_after/'$file_path createCellSignalTable onCreate
